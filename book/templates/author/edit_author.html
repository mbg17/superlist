{% extends 'add.html' %}
{% block title %}编辑作者{% endblock %}
{% block page %}
    <div class="panel panel-default ">
        <div class="panel-heading">编辑作者</div>
        <div class="panel-body">
            <form action="{% url 'edit_author' author.id %}" method="post">
                <input type="hidden" name="id" value="{{ author.id }}">
                <div class="form-group">
                    <label for="author_name">作者：</label>
                    <input type="text" class="form-control" id="author_name" name="author_name" placeholder="作者"
                           value="{{ author.name }}">
                </div>
                <div class="form-group">
                    <label for="books">书籍：</label>
                    <select multiple name="books" class="form-control" id="books">
                        {% for book in book_list %}
                            {% if book in author.book.all %}
                                <option selected value="{{ book.id }}">{{ book.title }}</option>
                            {% else %}
                                <option value="{{ book.id }}">{{ book.title }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label for="hobby">爱好：</label>
                    <input type="text" class="form-control" id="hobby" name="hobby" placeholder="爱好"
                           value="{{ author.detail.hobby }}">
                </div>
                <div class="form-group">
                    <label for="addr">地址：</label>
                    <input type="text" class="form-control" id="addr" name="addr" placeholder="地址"
                           value="{{ author.detail.addr }}">
                </div>
                <button type="submit" class="btn btn-success">提交</button>
            </form>
        </div>
    </div>
{% endblock %}